@model Person
@{
    var viewName = System.IO.Path.GetFileNameWithoutExtension(Path);
}

<section id=@viewName>
    <form asp-controller="Personas" asp-action="InsPersona" data-ajax="true" data-ajax-method="POST" data-ajax-success="@(viewName).onSuccess">
        @Html.HiddenFor(m => m.Id)
        <div class="card">
            <div class="modal-header">
                <h4 class="modal-title">Crear persona</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="card-body">
                <div class="form-group row">
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.FirtsName)
                        @Html.TextBoxFor(m => m.FirtsName, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.FirtsName)
                    </div>
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.SegundoNombre)
                        @Html.TextBoxFor(m => m.SegundoNombre, new { @class = "form-control" })
                        
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.PrimerApellido)
                        @Html.TextBoxFor(m => m.PrimerApellido, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.PrimerApellido)
                    </div>
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.SegundoApellido)
                        @Html.TextBoxFor(m => m.SegundoApellido, new { @class = "form-control" })
                        
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.TipoDocumentoId)
                        @(Html.Kendo().DropDownListFor(m => m.TipoDocumentoId)
                       .HtmlAttributes(new { style = "width: 100%;", required = "required", @class = "form-control" })
                       .DataTextField("Nombre")
                       .DataValueField("Id")
                       .OptionLabel("Seleccione...")
                       .Filter("contains")
                       .DataSource(source =>
                       {
                        source.Ajax().Read(read =>
                        {
                         read.Action("GetListTipoDocumento", "Personas", new { Area = "PARAM" });
                        }).Events(e => e.Error("Site.handleError"));
                        })
                        )
                        @Html.ValidationMessageFor(m => m.TipoDocumentoId)
                    </div>
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.Documento)
                        @Html.TextBoxFor(m => m.Documento, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Documento)
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.Correo)
                        @Html.TextBoxFor(m => m.Correo, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Correo)
                    </div>
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.SexoId)
                        @(Html.Kendo().DropDownListFor(m => m.SexoId)
                                .HtmlAttributes(new { style = "width: 100%;", required = "required", @class = "form-control" })
                                .DataTextField("Nombre")
                                .DataValueField("Id")
                                .OptionLabel("Seleccione...")
                                .Filter("contains")
                                .DataSource(source =>
                                {
                                    source.Ajax().Read(read =>
                                    {
                                        read.Action("GetListSexo", "Personas", new { Area = "PARAM" });
                                    }).Events(e => e.Error("Site.handleError"));
                                })
                        )
                        @Html.ValidationMessageFor(m => m.SexoId)
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.CargoId)
                        @(Html.Kendo().DropDownListFor(m => m.CargoId)
                                .HtmlAttributes(new { style = "width: 100%;", required = "required", @class = "form-control" })
                                .DataTextField("Descripcion")
                                .DataValueField("Id")
                                .OptionLabel("Seleccione...")
                                .Filter("contains")
                                .DataSource(source =>
                                {
                                    source.Ajax().Read(read =>
                                    {
                                        read.Action("GetListCargos", "Cargos", new { Area = "PARAM" });
                                    }).Events(e => e.Error("Site.handleError"));
                                })
                        )
                        @Html.ValidationMessageFor(m => m.CargoId)
                    </div>
                    <div class="col-sm-6">
                        @Html.LabelFor(m => m.DependenciaId)
                        @(Html.Kendo().DropDownListFor(m => m.DependenciaId)
                               .HtmlAttributes(new { style = "width: 100%;", required = "required", @class = "form-control" })
                               .DataTextField("Descripcion")
                               .DataValueField("Id")
                               .OptionLabel("Seleccione...")
                               .Filter("contains")
                               .DataSource(source =>
                               {
                                   source.Ajax().Read(read =>
                                           {
                                     read.Action("GetListDependencias", "Dependencias", new { Area = "PARAM" });
                                 }).Events(e => e.Error("Site.handleError"));
                               })
                        )
                        @Html.ValidationMessageFor(m => m.DependenciaId)
                    </div>
                </div>
            </div>
            <div class="modal-footer display: flex; -ms-flex-pack: end; justify-content: flex-end;">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
        </div>
    </form>
</section>

<script src="@Url.Content(App.Utils.Utils.GetJsFilePath(Path))"></script>
<script>
	$(function () {
            @(viewName).init();
        });
</script>



